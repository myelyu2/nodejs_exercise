# Exercise Nodejs

Данный проект представляет собой систему на основе Node.js, которая состоит из двух сервисов, `m1` и `m2`, и использует RabbitMQ для коммуникации между этими сервисами.

## Предварительные условия

### Установка Docker и Docker Compose:

1. **Загрузка**:
   Перейдите на [официальный сайт Docker](https://www.docker.com/) и скачайте Docker Desktop для вашей операционной системы.

2. **Установка**:
   Запустите загруженный файл и следуйте инструкциям установщика.

3. **Проверка**:
   Откройте терминал или командную строку и выполните следующую команду:

   ```bash
   docker -v
   ```

   Это должно показать версию установленного Docker.

4. **Docker Compose**:
   Docker Compose обычно устанавливается вместе с Docker Desktop. Чтобы проверить его установку, выполните:

   ```bash
   docker-compose -v
   ```

---

## Запуск проекта

1. **Запуск приложения**:
   ```bash
   docker-compose up --build
   ```

   Эта команда запустит RabbitMQ, а также ваши сервисы `m1` и `m2`.

2. **Тестирование**:
   
   Перед тем как запустить тесты, убедитесь что контейнер с RabbitMQ запущен:

   ```bash
   docker-compose up rabbit
   ```
   
   После того как RabbitMQ запущен, вы можете выполнить тесты в другом терминале с помощью:

   ```bash
   npm test
   ```

   А также вы можете выполнить любую другую команду `npm`.

## Архитектура

- **m1**: Этот сервис функционирует как API-сервер. Он принимает запросы от клиентов, генерирует уникальный идентификационный номер запроса и отправляет задачу на обработку в `m2` через RabbitMQ. После получения ответа от `m2`, `m1` отправляет результат обратно клиенту.

- **m2**: Этот сервис выполняет роль рабочего процесса. Он принимает задачи от `m1` через RabbitMQ, обрабатывает их и возвращает результаты обратно в `m1`. Обработка может включать в себя различные операции, такие как обработка данных, выполнение вычислений или взаимодействие с другими системами.

---

## Проверка API с помощью Postman

[Postman](https://www.postman.com/) - это инструмент, который позволяет быстро и удобно тестировать и взаимодействовать с API. С его помощью можно легко отправлять запросы к вашему сервису `m1` и просматривать ответы.

### Как использовать Postman для проверки микросервисов:

1. **Установка Postman**:
   Перейдите на [официальный сайт Postman](https://www.postman.com/downloads/) и загрузите версию для вашей операционной системы. Установите и запустите Postman.

2. **Настройка запроса**:
   - Откройте Postman.
   - В верхнем левом углу выберите HTTP метод (например, `GET` или `POST`).
   - В поле рядом введите URL вашего сервиса (например, `http://localhost:3000/process` для сервиса `m1`).
   - Для `POST` запросов:
     - Нажмите на вкладку "Body".
     - Выберите "raw" и формат "JSON".
     - Введите ваш запрос в формате JSON.

3. **Отправка запроса**:
   Нажмите большую синюю кнопку "Send" в верхней правой части окна. Результат запроса будет отображен в нижней части окна.

С помощью Postman вы можете легко тестировать различные запросы к микросервису М1 и просматривать ответы в удобном формате.

---

## Примечания

- Если при запуске проекта или тестов возникнут ошибки связанные с подключением к RabbitMQ, убедитесь что контейнер с RabbitMQ полностью инициализирован перед запуском сервисов или тестов.

---
